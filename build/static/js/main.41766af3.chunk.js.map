{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/person.js","components/Notification.js","App.js","index.js"],"names":["Filter","type","value","onChange","PersonForm","onSubmit","newName","handleNewName","newNumber","handleNewNumber","Person","people","onClick","map","person","name","number","id","Persons","persons","filter","filteredPeople","toLowerCase","includes","url","axios","get","then","response","data","post","put","delete","Notification","message","messageStyle","fontSize","color","borderStyle","borderRadius","padding","marginBottom","background","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","notice","setNotice","noticeType","setNoticeType","useEffect","personService","initialPhonebook","doesExist","event","target","preventDefault","personToUpdate","find","updatedPerson","window","confirm","returnedPerson","setTimeout","newNameObject","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41766af3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ type, value, onChange }) => {\n  return (\n    <div>\n      filter shown with: <input type={type} value={value} onChange={onChange}/>\n    </div>\n  )   \n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ onSubmit, newName, handleNewName, newNumber, handleNewNumber }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input type=\"text\" value={newName} onChange={handleNewName}/>\n      </div>\n      <div>\n        number: <input type=\"text\" value={newNumber} onChange={handleNewNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ people, onClick }) => {\n  return (\n    <div>\n      {people.map(person => {\n          return (\n            <li key={person.name}>{person.name} {person.number}\n              <button \n                key={person.name} \n                onClick={onClick} \n                value={person.id}>\n                delete\n              </button>\n            </li>\n          )\n        }\n      )}\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\n\nconst Persons = ({ persons, filter, onClick }) => {\n  const filteredPeople = persons.filter((person) => {\n    return person.name.toLowerCase().includes(filter.toLowerCase())\n  })\n  return (\n    <Person people={filteredPeople} onClick={onClick}/>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(url)\n  return request.then(response => response.data)\n}\n\nconst create = (person) => {\n  const request = axios.post(url, person)\n  return request.then(response => response.data)\n}\n\nconst update = (id, person) => {\n  const request = axios.put(`${url}/${id}`, person)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${url}/${id}`)\n}\n\n\nexport default { getAll, create, update, remove }","const Notification = ({ message, type }) => {\n  const color = type === 'error' ? 'red' : 'green'\n  const messageStyle = {\n    fontSize: 20,\n    color: color,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n    background: 'lightGrey'\n  }\n  if (message === null) {\n    return null\n  }\n  return (\n    <div style={messageStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/person'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notice, setNotice ] = useState(null)\n  const [ noticeType, setNoticeType ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPhonebook => {\n        setPersons(initialPhonebook)\n      })\n  },[])\n\n  \n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if (doesExist(newName)) {\n      const personToUpdate = persons.find(person => person.name === newName)\n      const updatedPerson = {...personToUpdate, number: newNumber}\n      const confirmChange = window.confirm(`${updatedPerson.name} is already added to phonebook, replace the old number with a new one?`)\n      if (confirmChange) {\n        personService\n          .update(updatedPerson.id, updatedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person))\n          })\n        setNoticeType('notice')\n        setNotice(`Phone number changed for ${updatedPerson.name}`)\n        setTimeout(() => {\n          setNotice(null)\n        }, 5000)\n      }\n    } else {\n      const newNameObject = { name: newName, number: newNumber }\n      personService\n        .create(newNameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNoticeType('notice')\n          setNotice(`Added ${newNameObject.name}`)\n          setTimeout(() => {\n            setNotice(null)\n          }, 5000)\n          setNewNumber('')\n          setNewName('')\n        })\n    }\n  }\n  \n  const handleDelete = (event) => {\n    const id = event.target.value\n    const name = persons.find(person => person.id === id).name\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNoticeType('notice')\n          setNotice(`${name} deleted`)\n          setTimeout(() => {\n            setNotice(null)\n          }, 5000) \n        })\n        .catch((error) => {\n          setNoticeType('error')\n          setNotice(`Information of ${name} has already been removed from server`)\n          setTimeout(() => {\n            setNotice(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  const doesExist = (name) => {\n    const names = persons.map(person => person.name)\n    return names.includes(name)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notice} type={noticeType}/>\n      <Filter type=\"text\" value={filter} onChange={handleFilter} />\n      \n      <h3>Add a new</h3>\n\n      <PersonForm \n        onSubmit={handleSubmit}\n        newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={persons} filter={filter} onClick={handleDelete}/>\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}